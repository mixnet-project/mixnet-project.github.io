import{_ as V,r as m,o as W,c as X,a as g,b as p,d as f,e as s,n as E,w as Y,f as H,F as z,g as N,t as J,h as K,i as l,j as c,u as w,p as T,m as L,k as Q,T as ee,l as S,q as C}from"./index-BhJHecqu.js";const te={class:"topology-container"},oe={class:"network-wrapper"},se=["viewBox"],le=["d","stroke"],ne=["cx","cy","fill","onMouseenter"],ae=["x","y"],re=["x","y","width","height","stroke"],ie={class:"zoom-controls"},I=1200,ce=800,r=4,de=.5,ue=3,pe={__name:"FatTree",setup(P){const d=r,_=m([]),u=m([]);m(!0);const x=m(!1),k=m(""),h=m(1),b=()=>{const n=[],a=Math.pow(r/2,2);for(let t=0;t<a;t++)n.push({type:"core",x:I/2-(a-1)*100+t*200,y:50,color:"#ff4444",label:""});const y=I/(d+1);return Array.from({length:d},(t,e)=>({x:y*(e+1),y:200})).forEach((t,e)=>{const i=t.x;for(let o=0;o<r/2;o++)n.push({type:"agg",x:i-80+o*160,y:250,color:"#4488ff",label:""});for(let o=0;o<r/2;o++)n.push({type:"edge",x:i-80+o*160,y:450,color:"#44cc44",label:"",index:e*(r/2)+o});for(let o=0;o<Math.pow(r/2,2);o++)n.push({type:"GPU",x:i-90+o%4*60,y:550+Math.floor(o/4)*80,color:"#666",label:"",index:e*Math.pow(r/2,2)+o});n.push({type:"pod",x:i-100,y:320,width:200,height:260,color:"transparent",stroke:"#e0e0e0"})}),n},$=()=>{const n=[],a=_.value.filter(t=>t.type==="core"),y=_.value.filter(t=>t.type==="agg"),v=_.value.filter(t=>t.type==="edge");return y.forEach((t,e)=>{const i=e%(r/2);for(let o=0;o<r/2;o++){const M=i*(r/2)+o;a[M]&&n.push({d:`M ${a[M].x} ${a[M].y} L ${t.x} ${t.y}`,color:"#ff8844"})}}),v.forEach(t=>{const e=Math.floor(v.indexOf(t)/(r/2));y.slice(e*(r/2),(e+1)*(r/2)).forEach(o=>{n.push({d:`M ${o.x} ${o.y} L ${t.x} ${t.y}`,color:"#44aaff"})})}),_.value.filter(t=>t.type==="GPU").forEach(t=>{const e=v.find(i=>{const o=Math.pow(r/2,2),M=r/2,Z=r/2,j=Math.floor(t.index/o),q=t.index%o,D=Math.floor(q/Z),R=j*M+D;return i.index===R});e&&n.push({d:`M ${e.x} ${e.y} L ${t.x} ${t.y}`,color:"#666",opacity:.8})}),n};W(()=>{_.value=b(),u.value=$()});const U=n=>{k.value=`${n.label} (${n.type})`,x.value=!0},A=()=>{x.value=!1},B=()=>{h.value=Math.min(ue,h.value*1.1)},F=()=>{h.value=Math.max(de,h.value*.9)},G=n=>{},O=X(()=>_.value.filter(n=>n.type==="pod"));return(n,a)=>{const y=g("el-tooltip"),v=g("el-icon"),t=g("el-button");return p(),f("div",te,[a[4]||(a[4]=s("div",{class:"topology-header"},[s("h3",{class:"title"},"Fat-tree Topology"),s("p",{class:"subtitle"},"Standard 3-tier datacenter network architecture (k=4)")],-1)),s("div",oe,[(p(),f("svg",{viewBox:`0 0 ${I} ${ce}`,style:E(`transform: scale(${h.value}); transform-origin: 0 0;`),onWheel:Y(G,["prevent"])},[a[1]||(a[1]=H('<g class="legend" data-v-d563d2ab><rect x="20" y="20" width="200" height="120" fill="white" stroke="#ccc" rx="4" data-v-d563d2ab></rect><text x="40" y="45" font-size="16" fill="#ff4444" data-v-d563d2ab>‚óè Core Switch</text><text x="40" y="65" font-size="16" fill="#4488ff" data-v-d563d2ab> ‚óè Aggregate Switch </text><text x="40" y="85" font-size="16" fill="#44cc44" data-v-d563d2ab>‚óè Edge Switch</text><text x="40" y="105" font-size="16" fill="#666" data-v-d563d2ab>‚óè GPU Node</text></g>',1)),(p(!0),f(z,null,N(u.value,(e,i)=>(p(),f("path",{key:`conn-${i}`,d:e.d,stroke:e.color,"stroke-width":"2.5",fill:"none",opacity:"0.8"},null,8,le))),128)),(p(!0),f(z,null,N(_.value,(e,i)=>(p(),f("g",{key:`node-${i}`},[s("circle",{cx:e.x,cy:e.y,r:"14",fill:e.color,stroke:"#fff","stroke-width":"2",onMouseenter:o=>U(e),onMouseleave:A},null,40,ne),e.label?(p(),f("text",{key:0,x:e.x,y:e.y+24,"text-anchor":"middle","font-size":"16",fill:"#333"},J(e.label),9,ae)):K("",!0)]))),128)),a[2]||(a[2]=s("pattern",{id:"grid",width:"100",height:"100",patternUnits:"userSpaceOnUse"},[s("path",{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"#eee","stroke-width":"1"})],-1)),a[3]||(a[3]=s("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null,-1)),(p(!0),f(z,null,N(O.value,(e,i)=>(p(),f("rect",{key:`pod-${i}`,x:e.x,y:e.y,width:e.width,height:e.height,stroke:e.stroke,fill:"transparent","stroke-width":"2","stroke-dasharray":"4"},null,8,re))),128))],44,se))]),l(y,{modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),content:k.value,placement:"top"},null,8,["modelValue","content"]),s("div",ie,[l(t,{onClick:B},{default:c(()=>[l(v,null,{default:c(()=>[l(w(T))]),_:1})]),_:1}),l(t,{onClick:F},{default:c(()=>[l(v,null,{default:c(()=>[l(w(L))]),_:1})]),_:1})])])}}},fe=V(pe,[["__scopeId","data-v-d563d2ab"]]),_e="/assets/mixnet-vuSLrPY-.png",he={class:"topology-container"},xe={class:"network-wrapper"},me={class:"mixnet-controls"},ve=["src"],ge={__name:"Mixnet",setup(P){const d=m(1),_=()=>{d.value=Math.min(3,d.value+.1)},u=()=>{d.value=Math.max(.5,d.value-.1)},x=()=>{d.value=1};return(k,h)=>{const b=g("el-icon"),$=g("el-button");return p(),f("div",he,[h[0]||(h[0]=s("div",{class:"topology-header"},[s("h3",{class:"title"},"MixNet Architecture"),s("p",{class:"subtitle"},"Runtime reconfigurable optical-electrical hybrid network")],-1)),s("div",xe,[s("div",me,[l($,{onClick:_,size:"small"},{default:c(()=>[l(b,null,{default:c(()=>[l(w(T))]),_:1})]),_:1}),l($,{onClick:u,size:"small"},{default:c(()=>[l(b,null,{default:c(()=>[l(w(L))]),_:1})]),_:1}),l($,{onClick:x,size:"small"},{default:c(()=>[l(b,null,{default:c(()=>[l(w(Q))]),_:1})]),_:1})]),s("div",{class:"image-container",style:E({transform:`scale(${d.value})`})},[s("img",{src:w(_e),class:"mixnet-image",alt:"Mixnet Architecture"},null,8,ve)],4)])])}}},ye=V(ge,[["__scopeId","data-v-3b792906"]]),we={class:"network-view"},ke={class:"mode-switcher"},be={__name:"NetworkView",setup(P){const d=m("fat-tree");return(_,u)=>{const x=g("el-radio-button"),k=g("el-radio-group");return p(),f("div",we,[u[3]||(u[3]=s("div",{class:"view-header"},[s("h1",{class:"page-title"},"Network Topology Visualization"),s("p",{class:"page-subtitle"},"Interactive comparison of datacenter network architectures")],-1)),s("div",ke,[l(k,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=h=>d.value=h),size:"large"},{default:c(()=>[l(x,{label:"fat-tree"},{default:c(()=>u[1]||(u[1]=[s("span",{class:"radio-icon"},"üå≥",-1),S(" Fat-Tree ")])),_:1}),l(x,{label:"mixnet"},{default:c(()=>u[2]||(u[2]=[s("span",{class:"radio-icon"},"‚ö°",-1),S(" MixNet ")])),_:1})]),_:1},8,["modelValue"])]),l(ee,{name:"fade",mode:"out-in"},{default:c(()=>[d.value==="fat-tree"?(p(),C(fe,{key:"fat-tree"})):(p(),C(ye,{key:"mixnet"}))]),_:1})])}}},Me=V(be,[["__scopeId","data-v-23a70b1a"]]);export{Me as default};
